<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Chi ti·∫øt Game</title>
<link rel="stylesheet" href="detail.css">
</head>
<body>
<div class="wrap" id="detail-container"></div>

<!-- Lightbox overlay -->
<div id="lightbox" class="lightbox">
  <span class="close">&times;</span>
  <img class="lightbox-img">
</div>

<script>
const games = [
  {
    id: 1,
    title: "No Mercy V1.03a",
    desc: "Game b·∫°o l·ª±c + khi√™u d√¢m, c√¢n nh·∫Øc khi ch∆°i.",
    image: "images/nomercy.png",
    screenshots: [
      "images/nomercy1.png",
      "images/nomercy2.png",
      "images/nomercy3.png",
      "images/nomercy4.png",
      "images/nomercy5.png"
    ],
    intro: `
      No Mercy l√† m·ªôt tr√≤ ch∆°i h√†nh ƒë·ªông k·∫øt h·ª£p y·∫øu t·ªë b·∫°o l·ª±c v√† ng∆∞·ªùi l·ªõn.
      Trong game, b·∫°n s·∫Ω tr·∫£i qua nhi·ªÅu m√†n ch∆°i ƒë·∫ßy th·ª≠ th√°ch, s·ª≠ d·ª•ng v≈© kh√≠ ƒëa d·∫°ng.
      H√£y c√¢n nh·∫Øc tr∆∞·ªõc khi ch∆°i v√¨ n·ªôi dung kh√° nh·∫°y c·∫£m.
    `,
    link: "https://drive.google.com/uc?export=download&id=FILE_ID_1"
  }
];

const params = new URLSearchParams(window.location.search);
const id = parseInt(params.get('id'));
const game = games.find(g => g.id === id);
const container = document.getElementById('detail-container');

if(game){
  // Render to√†n b·ªô 1 l·∫ßn
  container.innerHTML = `
    <h1>${game.title}</h1>
    <img src="${game.image}" alt="${game.title}" class="thumb-detail clickable">
    <div class="intro">${game.intro}</div>
    <div class="screenshots">
      ${game.screenshots.map(img => `<img src="${img}" alt="${game.title}" class="thumb-detail clickable">`).join('')}
    </div>
    <p style="text-align:center; margin-top:10px; color:#fff;">${game.desc}</p>
    <a href="${game.link}" target="_blank" class="btn-download">‚¨áÔ∏è T·∫£i v·ªÅ</a>
  `;

  // Lightbox JS
  const clickableImgs = document.querySelectorAll('.clickable');
  const lightbox = document.getElementById('lightbox');
  const lightboxImg = document.querySelector('.lightbox-img');
  const closeBtn = document.querySelector('.lightbox .close');

  clickableImgs.forEach(img => {
    img.addEventListener('click', () => {
      lightbox.style.display = 'flex';
      lightboxImg.src = img.src;
    });
    // Placeholder n·∫øu ·∫£nh l·ªói
    img.onerror = () => img.src = 'images/placeholder.png';
  });

  closeBtn.addEventListener('click', () => lightbox.style.display = 'none');
  lightbox.addEventListener('click', e => { if(e.target===lightbox) lightbox.style.display='none'; });

} else {
  container.innerHTML = `<h1>Game kh√¥ng t√¨m th·∫•y üò¢</h1>`;
}
</script>
</body>
</html>
