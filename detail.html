<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Chi ti·∫øt Game</title>
<link rel="stylesheet" href="detail.css">
</head>
<body>

<div class="wrap" id="detail-container"></div>

<!-- Lightbox overlay -->
<div id="lightbox" class="lightbox">
  <span class="close">&times;</span>
  <img class="lightbox-img">
</div>

<script>
const games = [
  { 
    id:1, 
    title:"No Mercy V1.03a", 
    image:"images/nomercy.png",
    screenshots:["images/nomercy1.png","images/nomercy2.png","images/nomercy3.png","images/nomercy4.png","images/nomercy5.png"],
    overview: {
      name: "No Mercy (V1.03a)",
      genre: "H√†nh ƒë·ªông, b·∫°o l·ª±c, khi√™u d√¢m, RPG pha ch√∫t chi·∫øn ƒë·∫•u",
      audience: "Ng∆∞·ªùi tr∆∞·ªüng th√†nh (18+), c√¢n nh·∫Øc tr∆∞·ªõc khi ch∆°i v√¨ n·ªôi dung kh√° nh·∫°y c·∫£m",
      graphics: "2D/3D pha tr·ªôn, c√≥ c√°c c·∫£nh chi·∫øn ƒë·∫•u m√°u me v√† t∆∞∆°ng t√°c khi√™u d√¢m"
    },
    story: `
      Game xoay quanh m·ªôt nh√¢n v·∫≠t ch√≠nh (th∆∞·ªùng l√† nam) b·ªã cu·ªën v√†o th·∫ø gi·ªõi ƒëen t·ªëi, n∆°i anh ph·∫£i chi·∫øn ƒë·∫•u, sinh t·ªìn, v√† t∆∞∆°ng t√°c v·ªõi c√°c nh√¢n v·∫≠t kh√°c.
      C·ªët truy·ªán th∆∞·ªùng kh√° t·ªëi tƒÉm, ƒë·∫≠m ch·∫•t b·∫°o l·ª±c v√† d·ª•c v·ªçng, v·ª´a h√†nh ƒë·ªông v·ª´a khai th√°c c√°c m·ªëi quan h·ªá nh·∫°y c·∫£m.
    `,
    gameplay: `
      - Chi·∫øn ƒë·∫•u: D√πng k·ªπ nƒÉng, v≈© kh√≠ ƒë·ªÉ h·∫° k·∫ª th√π.
      - T∆∞∆°ng t√°c: C√≥ c√°c t√¨nh hu·ªëng ‚Äúnguy hi·ªÉm‚Äù v√† khi√™u d√¢m, ng∆∞·ªùi ch∆°i quy·∫øt ƒë·ªãnh h∆∞·ªõng ph√°t tri·ªÉn quan h·ªá v·ªõi c√°c nh√¢n v·∫≠t.
      - M·ª•c ti√™u: Sinh t·ªìn, ho√†n th√†nh nhi·ªám v·ª•, kh√°m ph√° c·ªët truy·ªán, m·ªü kh√≥a c·∫£nh 18+.
    `,
    highlights: `
      - Th·ª≠ th√°ch cao: Kh√¥ng ch·ªâ chi·∫øn ƒë·∫•u m√† c√≤n c·∫ßn l·ª±a ch·ªçn kh√¥n ngoan.
      - T∆∞∆°ng t√°c s√¢u: C·∫£nh 18+ ƒë∆∞·ª£c l·ªìng gh√©p trong c·ªët truy·ªán, kh√¥ng ph·∫£i ch·ªâ ƒë·ªÉ ‚Äúc√¢u view‚Äù.
      - Phong c√°ch ri√™ng: Game mang c·∫£m gi√°c ‚Äúnguy hi·ªÉm nh∆∞ng l√¥i cu·ªën‚Äù, r·∫•t ph√π h·ª£p v·ªõi nh·ªØng ai mu·ªën tr·∫£i nghi·ªám m·∫°nh m·∫Ω.
    `,
    warning: "üí° L∆∞u √Ω: ƒê√¢y l√† game c·ª±c k·ª≥ nh·∫°y c·∫£m, c√≥ th·ªÉ g√¢y s·ªëc v·ªõi ng∆∞·ªùi m·ªõi, n√™n ch∆°i c·∫©n th·∫≠n, kh√¥ng ch∆°i n∆°i c√¥ng c·ªông.",
    link:"https://drive.google.com/uc?export=download&id=FILE_ID_1"
  },
];

const params = new URLSearchParams(window.location.search);
const id = parseInt(params.get('id'));
const container = document.getElementById('detail-container');

if(isNaN(id)){
  container.innerHTML = `<h1>ID game kh√¥ng h·ª£p l·ªá üò¢</h1>`;
} else {
  const game = games.find(g => g.id === id);

  if(game){
    container.innerHTML = `
      <h1>${game.title}</h1>

      <!-- T·ªïng quan -->
      <div class="overview">
        <p><strong>T√™n game:</strong> ${game.overview.name}</p>
        <p><strong>Th·ªÉ lo·∫°i:</strong> ${game.overview.genre}</p>
        <p><strong>ƒê·ªëi t∆∞·ª£ng:</strong> ${game.overview.audience}</p>
        <p><strong>ƒê·ªì h·ªça:</strong> ${game.overview.graphics}</p>
      </div>

      <!-- ·∫¢nh ch√≠nh -->
      <img src="${game.image}" alt="${game.title}" class="thumb-detail clickable">

      <!-- C·ªët truy·ªán -->
      <div class="section">
        <h2>C·ªët truy·ªán</h2>
        <p>${game.story}</p>
      </div>

      <!-- Gameplay -->
      <div class="section">
        <h2>Gameplay</h2>
        <p>${game.gameplay.replace(/\n/g,'<br>')}</p>
      </div>

      <!-- ƒêi·ªÉm n·ªïi b·∫≠t -->
      <div class="section">
        <h2>ƒêi·ªÉm n·ªïi b·∫≠t</h2>
        <p>${game.highlights.replace(/\n/g,'<br>')}</p>
      </div>

      <!-- C·∫£nh b√°o -->
      <div class="warning">${game.warning}</div>

      <!-- Screenshots -->
      <div class="screenshots">
        ${game.screenshots.map(img=>`<img src="${img}" alt="${game.title}" class="thumb-detail clickable">`).join('')}
      </div>

      <!-- N√∫t t·∫£i v·ªÅ -->
      <a href="${game.link}" target="_blank" class="btn-download">‚¨áÔ∏è T·∫£i v·ªÅ</a>
    `;

    const clickableImgs = container.querySelectorAll('.clickable');
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = lightbox.querySelector('.lightbox-img');
    const closeBtn = lightbox.querySelector('.close');

    clickableImgs.forEach(img=>{
      img.addEventListener('click', ()=>{
        lightbox.style.display = 'flex';
        lightboxImg.src = img.src;
      });
      img.onerror = ()=> img.src='images/placeholder.png';
    });

    closeBtn.addEventListener('click', ()=> lightbox.style.display='none');
    lightbox.addEventListener('click', e=>{ if(e.target===lightbox) lightbox.style.display='none'; });

  } else {
    container.innerHTML = `<h1>Game kh√¥ng t√¨m th·∫•y üò¢</h1>`;
  }
}
</script>

</body>
</html>
