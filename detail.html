<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Chi ti·∫øt Game</title>
<link rel="stylesheet" href="detail.css">
</head>
<body>

<div class="wrap" id="detail-container"></div>

<!-- Lightbox overlay -->
<div id="lightbox" class="lightbox">
  <span class="close">&times;</span>
  <img class="lightbox-img">
</div>

<script>
const games = [
  { 
    id:1, 
    title:"No Mercy V1.03a", 
    desc:"Game b·∫°o l·ª±c + khi√™u d√¢m.", 
    image:"images/nomercy.png",
    screenshots:["images/nomercy1.png","images/nomercy2.png","images/nomercy3.png","images/nomercy4.png","images/nomercy5.png"],
    link:"https://drive.google.com/uc?export=download&id=FILE_ID_1"
  },
];

const params = new URLSearchParams(window.location.search);
const id = parseInt(params.get('id'));

const container = document.getElementById('detail-container');

if(isNaN(id)){
  container.innerHTML = `<h1>Id game kh√¥ng h·ª£p l·ªá üò¢</h1>`;
} else {
  const game = games.find(g => g.id === id);

  if(game){
    container.innerHTML = `
      <h1>${game.title}</h1>
      <img src="${game.image}" alt="${game.title}" class="thumb-detail clickable">
      <p>${game.desc}</p>
      <div class="screenshots">
        ${game.screenshots.map(img => `<img src="${img}" alt="${game.title}" class="thumb-detail clickable">`).join('')}
      </div>
      <a href="${game.link}" target="_blank" class="btn-download">‚¨áÔ∏è T·∫£i v·ªÅ</a>
    `;

    // Ch·ªâ l·∫•y ·∫£nh trong container ƒë·ªÉ tr√°nh l·ªói n·∫øu c√≥ nhi·ªÅu game kh√°c
    const clickableImgs = container.querySelectorAll('.clickable');
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.querySelector('.lightbox-img');
    const closeBtn = lightbox.querySelector('.close');

    clickableImgs.forEach(img=>{
      img.addEventListener('click', ()=>{
        lightbox.style.display = 'flex';
        lightboxImg.src = img.src;
      });
    });

    closeBtn.addEventListener('click', ()=>{ lightbox.style.display='none'; });
    lightbox.addEventListener('click', e=>{
      if(e.target === lightbox) lightbox.style.display='none';
    });

  } else {
    container.innerHTML = `<h1>Game kh√¥ng t√¨m th·∫•y üò¢</h1>`;
  }
}
</script>

</body>
</html>
